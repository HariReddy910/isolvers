Manual Porting- Harvest to Stash

 	When to use?
The steps for manual porting should be used while performng  manual porting of projects from Harvest to Stash when the project has more branches and when automatic porting from AutoCM is not possible.
 	Step-by-step guide
 	Pre-Requisites : CA Harvest and git needs to be installed in VDI.
Below are the steps that has to be followed for manual porting of Harvest Repo with multiple repositories.
 	Create a Project name  and repository required in Stash.
1.	Open CLI and execute the below command.
Eg : Project Name : CCR_POSCCR   Baselines : CCR_POSCCR_141015023908
hco "*" -b harvest.1dc.com -br -en CCR_POSCCR -st BASELINE -vp / -op pc -ss CCR_POSCCR_141015023908 -r -ced -s "*" -usr <<lan id>> -pw <<password>> -o log.txt

2. The above command generates a log.txt file that has the details of the downloaded project. Traverse to the particular location and delete the *.sig files
P.S: The *.sig files are Harvest related files and are not needed to move to git repo. Hence we need to delete them
del <dir_path> /A:H /S /q .sig
3. Opne git bash and get into the folder that gets created and initiate a git repo.
               	git init
4. Make sure the required configurations in git are set. Review the same using the below command
               git config â€“-list


5. Add the files
git add --all

6. Once the files are moved to the staging area using the above command. Commit the changes to the local repo
git commit -m "Initial Commit of Baseline "

7. In case we need to push multiple baselines to stash, proceed with the below steps. Else continue with step no : 11
8. Before proceeding with the check out of the next baseline, make sure to delete all the files (except the .git folder) from the previous baseline checkout.
9. Repeat steps 1 to 9 by replacing the Baseline ID.
10. Once all the baselines are checked out , reviewed , added and committed, need to proceed with the below command to push the changes to remote repo.
11. Add the remote repo url

         git remote set-url origin https://<LANID>@escmstash.1dc.com/scm/<product_id>/<repo_name.git>

12. Push the changes to BitBucket.
         		 git push -u origin master
13. Porting is complete with step 12. Log on to BitBucket and confirm the Migration.
 
 
 
 
 

